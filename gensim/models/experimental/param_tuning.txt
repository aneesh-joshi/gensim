topk=50, epochs=20, loss=hinge, embed_dims=100
Epoch 20/20
281/281 [==============================] - 12s 42ms/step - loss: 0.6466 - acc: 0.5000
2018-07-04 14:07:47,586 : INFO : MAP: 0.40
2018-07-04 14:07:47,591 : INFO : nDCG@1 : 0.24
2018-07-04 14:07:47,595 : INFO : nDCG@3 : 0.37
2018-07-04 14:07:47,602 : INFO : nDCG@5 : 0.43
2018-07-04 14:07:47,607 : INFO : nDCG@10 : 0.52
2018-07-04 14:07:47,611 : INFO : nDCG@20 : 0.55
Test set results
2018-07-04 14:07:48,045 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 14:07:48,108 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 14:07:52,340 : INFO : MAP: 0.37
2018-07-04 14:07:52,348 : INFO : nDCG@1 : 0.19
2018-07-04 14:07:52,359 : INFO : nDCG@3 : 0.35
2018-07-04 14:07:52,368 : INFO : nDCG@5 : 0.43
2018-07-04 14:07:52,380 : INFO : nDCG@10 : 0.49
2018-07-04 14:07:52,389 : INFO : nDCG@20 : 0.53


Run again:

Epoch 20/20
281/281 [==============================] - 14s 48ms/step - loss: 0.6468 - acc: 0.5000
2018-07-04 14:14:32,713 : INFO : MAP: 0.40
2018-07-04 14:14:32,719 : INFO : nDCG@1 : 0.19
2018-07-04 14:14:32,725 : INFO : nDCG@3 : 0.37
2018-07-04 14:14:32,729 : INFO : nDCG@5 : 0.44
2018-07-04 14:14:32,734 : INFO : nDCG@10 : 0.53
2018-07-04 14:14:32,740 : INFO : nDCG@20 : 0.55
Test set results
2018-07-04 14:14:33,231 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 14:14:33,294 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 14:14:38,004 : INFO : MAP: 0.39
2018-07-04 14:14:38,013 : INFO : nDCG@1 : 0.20
2018-07-04 14:14:38,022 : INFO : nDCG@3 : 0.36
2018-07-04 14:14:38,031 : INFO : nDCG@5 : 0.45
2018-07-04 14:14:38,042 : INFO : nDCG@10 : 0.51
2018-07-04 14:14:38,051 : INFO : nDCG@20 : 0.55
(c_gensim_env)  aneeshj@alchemist î‚° ~/Projects/gen

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

topk=50, epochs=20, loss=rank_hinge_loss, embed_dims=100

Epoch 20/20
281/281 [==============================] - 12s 43ms/step - loss: 0.4984 - acc: 0.5000
2018-07-04 14:22:28,073 : INFO : MAP: 0.55
2018-07-04 14:22:28,078 : INFO : nDCG@1 : 0.40
2018-07-04 14:22:28,082 : INFO : nDCG@3 : 0.53
2018-07-04 14:22:28,087 : INFO : nDCG@5 : 0.59
2018-07-04 14:22:28,092 : INFO : nDCG@10 : 0.65
2018-07-04 14:22:28,096 : INFO : nDCG@20 : 0.66
Test set results
2018-07-04 14:22:28,524 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 14:22:28,585 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 14:22:32,814 : INFO : MAP: 0.50
2018-07-04 14:22:32,824 : INFO : nDCG@1 : 0.36
2018-07-04 14:22:32,833 : INFO : nDCG@3 : 0.50
2018-07-04 14:22:32,844 : INFO : nDCG@5 : 0.55
2018-07-04 14:22:32,853 : INFO : nDCG@10 : 0.62
2018-07-04 14:22:32,864 : INFO : nDCG@20 : 0.64

topk=50, epochs=50, loss=rank_hinge_loss, embed_dims=100

Epoch 50/50
281/281 [==============================] - 14s 50ms/step - loss: 0.3989 - acc: 0.6050
2018-07-04 14:37:51,180 : INFO : MAP: 0.60
2018-07-04 14:37:51,191 : INFO : nDCG@1 : 0.44
2018-07-04 14:37:51,201 : INFO : nDCG@3 : 0.60
2018-07-04 14:37:51,210 : INFO : nDCG@5 : 0.67
2018-07-04 14:37:51,218 : INFO : nDCG@10 : 0.70
2018-07-04 14:37:51,224 : INFO : nDCG@20 : 0.71
Test set results
2018-07-04 14:37:51,569 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 14:37:51,638 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 14:37:56,408 : INFO : MAP: 0.54
2018-07-04 14:37:56,418 : INFO : nDCG@1 : 0.39
2018-07-04 14:37:56,428 : INFO : nDCG@3 : 0.54
2018-07-04 14:37:56,438 : INFO : nDCG@5 : 0.61
2018-07-04 14:37:56,450 : INFO : nDCG@10 : 0.65
2018-07-04 14:37:56,460 : INFO : nDCG@20 : 0.67

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 	

topk=50, epochs=20, loss=rank_hinge_loss, embed_dims=300, fc = [300, 200, 1]

Epoch 20/20
281/281 [==============================] - 45s 162ms/step - loss: 0.4987 - acc: 0.5000
2018-07-04 15:38:36,213 : INFO : MAP: 0.58
2018-07-04 15:38:36,218 : INFO : nDCG@1 : 0.40
2018-07-04 15:38:36,223 : INFO : nDCG@3 : 0.58
2018-07-04 15:38:36,229 : INFO : nDCG@5 : 0.63
2018-07-04 15:38:36,233 : INFO : nDCG@10 : 0.68
2018-07-04 15:38:36,238 : INFO : nDCG@20 : 0.69
Test set results
2018-07-04 15:38:36,509 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 15:38:36,570 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 15:38:49,883 : INFO : MAP: 0.54
2018-07-04 15:38:49,893 : INFO : nDCG@1 : 0.42
2018-07-04 15:38:49,904 : INFO : nDCG@3 : 0.54
2018-07-04 15:38:49,914 : INFO : nDCG@5 : 0.60
2018-07-04 15:38:49,925 : INFO : nDCG@10 : 0.66
2018-07-04 15:38:49,934 : INFO : nDCG@20 : 0.67

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 	
topk=50, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [300, 200, 1]

Epoch 20/20
281/281 [==============================] - 29s 103ms/step - loss: 0.3971 - acc: 0.6087
2018-07-04 16:01:03,558 : INFO : MAP: 0.58
2018-07-04 16:01:03,563 : INFO : nDCG@1 : 0.41
2018-07-04 16:01:03,567 : INFO : nDCG@3 : 0.57
2018-07-04 16:01:03,572 : INFO : nDCG@5 : 0.63
2018-07-04 16:01:03,577 : INFO : nDCG@10 : 0.67
2018-07-04 16:01:03,582 : INFO : nDCG@20 : 0.69
Test set results
2018-07-04 16:01:03,851 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 16:01:03,913 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 16:01:10,526 : INFO : MAP: 0.50
2018-07-04 16:01:10,535 : INFO : nDCG@1 : 0.35
2018-07-04 16:01:10,546 : INFO : nDCG@3 : 0.51
2018-07-04 16:01:10,555 : INFO : nDCG@5 : 0.58
2018-07-04 16:01:10,566 : INFO : nDCG@10 : 0.63
2018-07-04 16:01:10,575 : INFO : nDCG@20 : 0.64

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ 	
topk=50, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [100, 1], shuffle=False

Epoch 50/50
281/281 [==============================] - 24s 87ms/step - loss: 0.4983 - acc: 0.5000
2018-07-04 17:29:43,243 : INFO : MAP: 0.59
2018-07-04 17:29:43,248 : INFO : nDCG@1 : 0.44
2018-07-04 17:29:43,252 : INFO : nDCG@3 : 0.60
2018-07-04 17:29:43,258 : INFO : nDCG@5 : 0.64
2018-07-04 17:29:43,263 : INFO : nDCG@10 : 0.69
2018-07-04 17:29:43,267 : INFO : nDCG@20 : 0.70
Test set results
2018-07-04 17:29:43,533 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 17:29:43,590 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 17:29:52,991 : INFO : MAP: 0.55
2018-07-04 17:29:52,999 : INFO : nDCG@1 : 0.42
2018-07-04 17:29:53,008 : INFO : nDCG@3 : 0.55
2018-07-04 17:29:53,017 : INFO : nDCG@5 : 0.61
2018-07-04 17:29:53,028 : INFO : nDCG@10 : 0.66
2018-07-04 17:29:53,037 : INFO : nDCG@20 : 0.67

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
bs=5

Epoch 20/20
281/281 [==============================] - 9s 32ms/step - loss: 0.4165 - acc: 0.5859
2018-07-04 18:46:20,867 : INFO : MAP: 0.61
2018-07-04 18:46:20,871 : INFO : nDCG@1 : 0.47
2018-07-04 18:46:20,875 : INFO : nDCG@3 : 0.62
2018-07-04 18:46:20,880 : INFO : nDCG@5 : 0.67
2018-07-04 18:46:20,886 : INFO : nDCG@10 : 0.71
2018-07-04 18:46:20,890 : INFO : nDCG@20 : 0.72
Test set results
2018-07-04 18:46:21,165 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-04 18:46:21,226 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-04 18:46:24,102 : INFO : MAP: 0.55
2018-07-04 18:46:24,110 : INFO : nDCG@1 : 0.41
2018-07-04 18:46:24,121 : INFO : nDCG@3 : 0.55
2018-07-04 18:46:24,130 : INFO : nDCG@5 : 0.62
2018-07-04 18:46:24,142 : INFO : nDCG@10 : 0.66
2018-07-04 18:46:24,151 : INFO : nDCG@20 : 0.68

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims=300, fc = [20, 1], shuffle=False, adadelta, lr=1

Epoch 20/20
281/281 [==============================] - 23s 82ms/step - loss: 0.8798 - acc: 0.6077
2018-07-05 15:37:06,236 : INFO : MAP: 0.60
2018-07-05 15:37:06,240 : INFO : nDCG@1 : 0.44
2018-07-05 15:37:06,245 : INFO : nDCG@3 : 0.60
2018-07-05 15:37:06,251 : INFO : nDCG@5 : 0.66
2018-07-05 15:37:06,256 : INFO : nDCG@10 : 0.69
2018-07-05 15:37:06,260 : INFO : nDCG@20 : 0.71

Test set results
2018-07-05 15:37:06,524 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 15:37:06,587 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 15:37:15,193 : INFO : MAP: 0.55
2018-07-05 15:37:15,202 : INFO : nDCG@1 : 0.40
2018-07-05 15:37:15,212 : INFO : nDCG@3 : 0.56
2018-07-05 15:37:15,222 : INFO : nDCG@5 : 0.61
2018-07-05 15:37:15,234 : INFO : nDCG@10 : 0.67
2018-07-05 15:37:15,243 : INFO : nDCG@20 : 0.68


^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=2, epochs=20, loss=rank_hinge_loss, embed_dims=300, fc = [20, 1], shuffle=False, adadelta, lr=1

Epoch 1/2
281/281 [==============================] - 26s 93ms/step - loss: 0.9673 - acc: 0.5523
2018-07-05 15:43:08,327 : INFO : MAP: 0.64
2018-07-05 15:43:08,711 : INFO : nDCG@1 : 0.49
2018-07-05 15:43:08,716 : INFO : nDCG@3 : 0.65
2018-07-05 15:43:08,721 : INFO : nDCG@5 : 0.70
2018-07-05 15:43:08,726 : INFO : nDCG@10 : 0.73
2018-07-05 15:43:08,731 : INFO : nDCG@20 : 0.74
Epoch 2/2
281/281 [==============================] - 23s 81ms/step - loss: 0.9302 - acc: 0.5940
2018-07-05 15:43:35,711 : INFO : MAP: 0.63
2018-07-05 15:43:35,716 : INFO : nDCG@1 : 0.48
2018-07-05 15:43:35,720 : INFO : nDCG@3 : 0.64
2018-07-05 15:43:35,725 : INFO : nDCG@5 : 0.69
2018-07-05 15:43:35,729 : INFO : nDCG@10 : 0.72
2018-07-05 15:43:35,734 : INFO : nDCG@20 : 0.73
Test set results
2018-07-05 15:43:38,857 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 15:43:45,777 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 15:43:54,560 : INFO : MAP: 0.58
2018-07-05 15:43:54,585 : INFO : nDCG@1 : 0.44
2018-07-05 15:43:54,596 : INFO : nDCG@3 : 0.58
2018-07-05 15:43:54,605 : INFO : nDCG@5 : 0.65
2018-07-05 15:43:54,616 : INFO : nDCG@10 : 0.69
2018-07-05 15:43:54,626 : INFO : nDCG@20 : 0.70

same:

Epoch 1/1
281/281 [==============================] - 26s 91ms/step - loss: 0.9894 - acc: 0.5116
2018-07-05 15:54:46,583 : INFO : MAP: 0.61
2018-07-05 15:54:46,845 : INFO : nDCG@1 : 0.47
2018-07-05 15:54:46,855 : INFO : nDCG@3 : 0.62
2018-07-05 15:54:46,863 : INFO : nDCG@5 : 0.66
2018-07-05 15:54:46,870 : INFO : nDCG@10 : 0.71
2018-07-05 15:54:46,875 : INFO : nDCG@20 : 0.72
Test set results
2018-07-05 15:54:49,784 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 15:54:53,208 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 15:55:02,025 : INFO : MAP: 0.55
2018-07-05 15:55:02,034 : INFO : nDCG@1 : 0.40
2018-07-05 15:55:02,045 : INFO : nDCG@3 : 0.57
2018-07-05 15:55:02,055 : INFO : nDCG@5 : 0.62
2018-07-05 15:55:02,065 : INFO : nDCG@10 : 0.67
2018-07-05 15:55:02,074 : INFO : nDCG@20 : 0.68


same:

Epoch 1/1
889/900 [============================>.] - ETA: 0s - loss: 0.9271 - acc: 0.5861SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 80s 89ms/step - loss: 0.9264 - acc: 0.5864
2018-07-05 18:09:19,123 : INFO : MAP: 0.61
2018-07-05 18:09:19,445 : INFO : nDCG@1 : 0.46
2018-07-05 18:09:19,454 : INFO : nDCG@3 : 0.61
2018-07-05 18:09:19,462 : INFO : nDCG@5 : 0.67
2018-07-05 18:09:19,466 : INFO : nDCG@10 : 0.70
2018-07-05 18:09:19,471 : INFO : nDCG@20 : 0.72
Test set results
2018-07-05 18:09:22,503 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:09:26,387 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:09:35,492 : INFO : MAP: 0.56
2018-07-05 18:09:35,522 : INFO : nDCG@1 : 0.42
2018-07-05 18:09:35,532 : INFO : nDCG@3 : 0.57
2018-07-05 18:09:35,541 : INFO : nDCG@5 : 0.63
2018-07-05 18:09:35,551 : INFO : nDCG@10 : 0.67
2018-07-05 18:09:35,562 : INFO : nDCG@20 : 0.69

Epoch 5/5
887/900 [============================>.] - ETA: 1s - loss: 0.9992 - acc: 0.5000SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 72s 80ms/step - loss: 0.9993 - acc: 0.5000
2018-07-05 18:21:42,215 : INFO : MAP: 0.57
2018-07-05 18:21:42,220 : INFO : nDCG@1 : 0.41
2018-07-05 18:21:42,224 : INFO : nDCG@3 : 0.55
2018-07-05 18:21:42,229 : INFO : nDCG@5 : 0.63
2018-07-05 18:21:42,235 : INFO : nDCG@10 : 0.68
2018-07-05 18:21:42,239 : INFO : nDCG@20 : 0.68
Test set results
2018-07-05 18:21:42,510 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:21:42,575 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:21:51,316 : INFO : MAP: 0.54
2018-07-05 18:21:51,324 : INFO : nDCG@1 : 0.40
2018-07-05 18:21:51,335 : INFO : nDCG@3 : 0.55
2018-07-05 18:21:51,345 : INFO : nDCG@5 : 0.60
2018-07-05 18:21:51,355 : INFO : nDCG@10 : 0.66
2018-07-05 18:21:51,365 : INFO : nDCG@20 : 0.67


^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [20, 1], shuffle=False, adadelta, lr=1

Epoch 10/10
884/900 [============================>.] - ETA: 0s - loss: 0.8813 - acc: 0.6024SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 20s 23ms/step - loss: 0.8812 - acc: 0.6026
2018-07-05 18:27:26,103 : INFO : MAP: 0.60
2018-07-05 18:27:26,108 : INFO : nDCG@1 : 0.42
2018-07-05 18:27:26,113 : INFO : nDCG@3 : 0.60
2018-07-05 18:27:26,119 : INFO : nDCG@5 : 0.66
2018-07-05 18:27:26,123 : INFO : nDCG@10 : 0.69
2018-07-05 18:27:26,128 : INFO : nDCG@20 : 0.70
Test set results
2018-07-05 18:27:26,394 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:27:26,454 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:27:28,511 : INFO : MAP: 0.53
2018-07-05 18:27:28,520 : INFO : nDCG@1 : 0.39
2018-07-05 18:27:28,530 : INFO : nDCG@3 : 0.54
2018-07-05 18:27:28,539 : INFO : nDCG@5 : 0.60
2018-07-05 18:27:28,550 : INFO : nDCG@10 : 0.65
2018-07-05 18:27:28,559 : INFO : nDCG@20 : 0.66

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [20, 1], shuffle=False, adam, lr=0.0001, 

900/900 [==============================] - 20s 22ms/step - loss: 0.9990 - acc: 0.5000
2018-07-05 18:35:06,769 : INFO : MAP: 0.51
2018-07-05 18:35:06,774 : INFO : nDCG@1 : 0.33
2018-07-05 18:35:06,778 : INFO : nDCG@3 : 0.49
2018-07-05 18:35:06,783 : INFO : nDCG@5 : 0.58
2018-07-05 18:35:06,788 : INFO : nDCG@10 : 0.62
2018-07-05 18:35:06,793 : INFO : nDCG@20 : 0.64
Test set results
2018-07-05 18:35:07,064 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:35:07,127 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:35:09,219 : INFO : MAP: 0.48
2018-07-05 18:35:09,228 : INFO : nDCG@1 : 0.32
2018-07-05 18:35:09,238 : INFO : nDCG@3 : 0.48
2018-07-05 18:35:09,247 : INFO : nDCG@5 : 0.54
2018-07-05 18:35:09,258 : INFO : nDCG@10 : 0.60
2018-07-05 18:35:09,268 : INFO : nDCG@20 : 0.62

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=mse, embed_dims=50, fc = [20, 1], shuffle=False, adam, lr=0.0001,

900/900 [==============================] - 20s 23ms/step - loss: 0.2888 - acc: 0.5000
2018-07-05 18:40:18,483 : INFO : MAP: 0.42
2018-07-05 18:40:18,488 : INFO : nDCG@1 : 0.23
2018-07-05 18:40:18,492 : INFO : nDCG@3 : 0.39
2018-07-05 18:40:18,497 : INFO : nDCG@5 : 0.47
2018-07-05 18:40:18,502 : INFO : nDCG@10 : 0.54
2018-07-05 18:40:18,507 : INFO : nDCG@20 : 0.56
Test set results
2018-07-05 18:40:18,784 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:40:18,851 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:40:21,004 : INFO : MAP: 0.38
2018-07-05 18:40:21,012 : INFO : nDCG@1 : 0.21
2018-07-05 18:40:21,025 : INFO : nDCG@3 : 0.36
2018-07-05 18:40:21,034 : INFO : nDCG@5 : 0.44
2018-07-05 18:40:21,046 : INFO : nDCG@10 : 0.51
2018-07-05 18:40:21,058 : INFO : nDCG@20 : 0.54



^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=mse, embed_dims=50, fc = [100, 50, 1], shuffle=False, adam, lr=0.0001,

Epoch 10/10
883/900 [============================>.] - ETA: 0s - loss: 0.2889 - acc: 0.5000SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 32s 36ms/step - loss: 0.2890 - acc: 0.5000
2018-07-05 18:47:35,318 : INFO : MAP: 0.50
2018-07-05 18:47:35,322 : INFO : nDCG@1 : 0.32
2018-07-05 18:47:35,326 : INFO : nDCG@3 : 0.48
2018-07-05 18:47:35,332 : INFO : nDCG@5 : 0.57
2018-07-05 18:47:35,337 : INFO : nDCG@10 : 0.62
2018-07-05 18:47:35,341 : INFO : nDCG@20 : 0.63
Test set results
2018-07-05 18:47:35,616 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:47:35,679 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:47:38,648 : INFO : MAP: 0.44
2018-07-05 18:47:38,657 : INFO : nDCG@1 : 0.27
2018-07-05 18:47:38,666 : INFO : nDCG@3 : 0.45
2018-07-05 18:47:38,675 : INFO : nDCG@5 : 0.52
2018-07-05 18:47:38,685 : INFO : nDCG@10 : 0.58
2018-07-05 18:47:38,694 : INFO : nDCG@20 : 0.60

same as above, normalize=False

Epoch 10/10
883/900 [============================>.] - ETA: 0s - loss: 0.2503 - acc: 0.5196SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 31s 35ms/step - loss: 0.2503 - acc: 0.5200
2018-07-05 18:55:16,538 : INFO : MAP: 0.54
2018-07-05 18:55:16,542 : INFO : nDCG@1 : 0.37
2018-07-05 18:55:16,547 : INFO : nDCG@3 : 0.53
2018-07-05 18:55:16,553 : INFO : nDCG@5 : 0.58
2018-07-05 18:55:16,558 : INFO : nDCG@10 : 0.63
2018-07-05 18:55:16,563 : INFO : nDCG@20 : 0.66
Test set results
2018-07-05 18:55:16,834 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 18:55:16,908 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 18:55:20,443 : INFO : MAP: 0.51
2018-07-05 18:55:20,453 : INFO : nDCG@1 : 0.36
2018-07-05 18:55:20,464 : INFO : nDCG@3 : 0.51
2018-07-05 18:55:20,475 : INFO : nDCG@5 : 0.57
2018-07-05 18:55:20,486 : INFO : nDCG@10 : 0.62
2018-07-05 18:55:20,496 : INFO : nDCG@20 : 0.64


^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [100, 50, 1], shuffle=False, adam, lr=0.0001,


Epoch 10/10
883/900 [============================>.] - ETA: 0s - loss: 0.8216 - acc: 0.2730SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 31s 35ms/step - loss: 0.8225 - acc: 0.2707
2018-07-05 19:01:47,948 : INFO : MAP: 0.61
2018-07-05 19:01:47,953 : INFO : nDCG@1 : 0.45
2018-07-05 19:01:47,958 : INFO : nDCG@3 : 0.60
2018-07-05 19:01:47,964 : INFO : nDCG@5 : 0.66
2018-07-05 19:01:47,968 : INFO : nDCG@10 : 0.69
2018-07-05 19:01:47,973 : INFO : nDCG@20 : 0.71
Test set results
2018-07-05 19:01:48,267 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 19:01:48,330 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 19:01:51,214 : INFO : MAP: 0.57
2018-07-05 19:01:51,224 : INFO : nDCG@1 : 0.44
2018-07-05 19:01:51,235 : INFO : nDCG@3 : 0.58
2018-07-05 19:01:51,246 : INFO : nDCG@5 : 0.64
2018-07-05 19:01:51,257 : INFO : nDCG@10 : 0.68
2018-07-05 19:01:51,268 : INFO : nDCG@20 : 0.69



^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims=50, fc = [100, 50, 1], shuffle=False, adam, lr=0.0001, drop_out = 0.5

Epoch 20/20
879/900 [============================>.] - ETA: 0s - loss: 0.7918 - acc: 0.2336SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 31s 34ms/step - loss: 0.7922 - acc: 0.2309
2018-07-05 19:14:19,581 : INFO : MAP: 0.63
2018-07-05 19:14:19,586 : INFO : nDCG@1 : 0.47
2018-07-05 19:14:19,590 : INFO : nDCG@3 : 0.64
2018-07-05 19:14:19,596 : INFO : nDCG@5 : 0.69
2018-07-05 19:14:19,601 : INFO : nDCG@10 : 0.72
2018-07-05 19:14:19,605 : INFO : nDCG@20 : 0.73
Test set results
2018-07-05 19:14:19,869 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 19:14:19,931 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 19:14:22,870 : INFO : MAP: 0.59
2018-07-05 19:14:22,880 : INFO : nDCG@1 : 0.46
2018-07-05 19:14:22,892 : INFO : nDCG@3 : 0.62
2018-07-05 19:14:22,903 : INFO : nDCG@5 : 0.66
2018-07-05 19:14:22,913 : INFO : nDCG@10 : 0.71
2018-07-05 19:14:22,922 : INFO : nDCG@20 : 0.71

^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6

Using TensorFlow backend.
2018-07-05 19:17:30,638 : INFO : 'pattern' package not found; tag filters are not available for English
2018-07-05 19:17:31,519 : INFO : loading projection weights from /home/aneeshj/gensim-data/glove-wiki-gigaword-300/glove-wiki-gigaword-300.gz
2018-07-05 19:19:17,360 : INFO : loaded (400000, 300) matrix from /home/aneeshj/gensim-data/glove-wiki-gigaword-300/glove-wiki-gigaword-300.gz
2018-07-05 19:19:17,360 : INFO : Starting Vocab Build
2018-07-05 19:19:17,954 : INFO : Vocab Build Complete
2018-07-05 19:19:17,954 : INFO : Vocab Size is 19890
2018-07-05 19:19:17,955 : INFO : Building embedding index using KeyedVector pretrained word embeddings
2018-07-05 19:19:17,955 : INFO : The embeddings_index built from the given file has 400000 words of 300 dimensions
2018-07-05 19:19:17,955 : INFO : Building the Embedding Matrix for the model's Embedding Layer
2018-07-05 19:19:18,127 : INFO : There are 740 words out of 19890 (3.72%) not in the embeddings. Setting them to random
2018-07-05 19:19:18,127 : INFO : Adding additional words from the embedding file to embedding matrix
2018-07-05 19:19:19,687 : INFO : Normalizing the word embeddings
2018-07-05 19:19:43,938 : INFO : Embedding Matrix build complete. It now has shape (400742, 300)
2018-07-05 19:19:44,687 : INFO : Pad word has been set to index 400740
2018-07-05 19:19:44,700 : INFO : Unknown word has been set to index 400741
2018-07-05 19:19:44,701 : INFO : Embedding index build complete
2018-07-05 19:19:51,053 : INFO : Input is an iterable amd will be streamed
2018-07-05 19:19:58.208020: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.1 instructions, but these are available on your machine and could speed up CPU computations.
2018-07-05 19:19:58.366960: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use SSE4.2 instructions, but these are available on your machine and could speed up CPU computations.
2018-07-05 19:19:58.366982: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX instructions, but these are available on your machine and could speed up CPU computations.
2018-07-05 19:19:58.366996: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use AVX2 instructions, but these are available on your machine and could speed up CPU computations.
2018-07-05 19:19:58.367012: W tensorflow/core/platform/cpu_feature_guard.cc:45] The TensorFlow library wasn't compiled to use FMA instructions, but these are available on your machine and could speed up CPU computations.
2018-07-05 19:20:09,113 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,122 : INFO : Layer (type)                    Output Shape         Param #     Connected to                     
2018-07-05 19:20:09,122 : INFO : ==================================================================================================
2018-07-05 19:20:09,126 : INFO : query (InputLayer)              (None, 200)          0                                            
2018-07-05 19:20:09,126 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,126 : INFO : doc (InputLayer)                (None, 200)          0                                            
2018-07-05 19:20:09,126 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,127 : INFO : embedding_1 (Embedding)         (None, 200, 300)     120222600   query[0][0]                      
2018-07-05 19:20:09,127 : INFO :                                                                  doc[0][0]                        
2018-07-05 19:20:09,127 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,127 : INFO : dot_1 (Dot)                     (None, 200, 200)     0           embedding_1[0][0]                
2018-07-05 19:20:09,127 : INFO :                                                                  embedding_1[1][0]                
2018-07-05 19:20:09,127 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,127 : INFO : top_k_layer_1 (TopKLayer)       (None, 200, 20)      0           dot_1[0][0]                      
2018-07-05 19:20:09,127 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,135 : INFO : dense_2 (Dense)                 (None, 200, 100)     2100        top_k_layer_1[0][0]              
2018-07-05 19:20:09,136 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,136 : INFO : dense_3 (Dense)                 (None, 200, 1)       101         dense_2[0][0]                    
2018-07-05 19:20:09,136 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,136 : INFO : dropout_1 (Dropout)             (None, 200, 1)       0           dense_3[0][0]                    
2018-07-05 19:20:09,136 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,136 : INFO : dense_1 (Dense)                 (None, 200, 1)       301         embedding_1[0][0]                
2018-07-05 19:20:09,136 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,136 : INFO : reshape_2 (Reshape)             (None, 200)          0           dropout_1[0][0]                  
2018-07-05 19:20:09,136 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,136 : INFO : reshape_1 (Reshape)             (None, 200)          0           dense_1[0][0]                    
2018-07-05 19:20:09,137 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,137 : INFO : dot_2 (Dot)                     (None, 1)            0           reshape_2[0][0]                  
2018-07-05 19:20:09,137 : INFO :                                                                  reshape_1[0][0]                  
2018-07-05 19:20:09,137 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:09,137 : INFO : reshape_3 (Reshape)             (None, 1)            0           dot_2[0][0]                      
2018-07-05 19:20:09,137 : INFO : ==================================================================================================
2018-07-05 19:20:09,151 : INFO : Total params: 120,225,102
2018-07-05 19:20:09,151 : INFO : Trainable params: 2,502
2018-07-05 19:20:09,151 : INFO : Non-trainable params: 120,222,600
2018-07-05 19:20:09,151 : INFO : __________________________________________________________________________________________________
2018-07-05 19:20:10,733 : INFO : Found 26 unknown words. Set them to unknown word index : 400741
2018-07-05 19:20:15,740 : INFO : Found 101 unknown words. Set them to unknown word index : 400741
Epoch 1/10
889/900 [============================>.] - ETA: 0s - loss: 1.0216 - acc: 0.3274SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 81s 90ms/step - loss: 1.0214 - acc: 0.3296
2018-07-05 19:21:43,555 : INFO : MAP: 0.56
2018-07-05 19:21:43,851 : INFO : nDCG@1 : 0.38
2018-07-05 19:21:43,856 : INFO : nDCG@3 : 0.56
2018-07-05 19:21:43,863 : INFO : nDCG@5 : 0.61
2018-07-05 19:21:43,868 : INFO : nDCG@10 : 0.66
2018-07-05 19:21:43,873 : INFO : nDCG@20 : 0.68
Epoch 2/10
888/900 [============================>.] - ETA: 1s - loss: 0.9241 - acc: 0.2142SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 97s 108ms/step - loss: 0.9229 - acc: 0.2114
2018-07-05 19:23:25,165 : INFO : MAP: 0.64
2018-07-05 19:23:25,169 : INFO : nDCG@1 : 0.50
2018-07-05 19:23:25,174 : INFO : nDCG@3 : 0.63
2018-07-05 19:23:25,180 : INFO : nDCG@5 : 0.69
2018-07-05 19:23:25,185 : INFO : nDCG@10 : 0.73
2018-07-05 19:23:25,189 : INFO : nDCG@20 : 0.74
Epoch 3/10
888/900 [============================>.] - ETA: 1s - loss: 0.7838 - acc: 0.1459SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 77s 86ms/step - loss: 0.7839 - acc: 0.1467
2018-07-05 19:24:47,038 : INFO : MAP: 0.63
2018-07-05 19:24:47,042 : INFO : nDCG@1 : 0.48
2018-07-05 19:24:47,046 : INFO : nDCG@3 : 0.64
2018-07-05 19:24:47,051 : INFO : nDCG@5 : 0.69
2018-07-05 19:24:47,056 : INFO : nDCG@10 : 0.72
2018-07-05 19:24:47,061 : INFO : nDCG@20 : 0.73
Epoch 4/10
887/900 [============================>.] - ETA: 1s - loss: 0.7838 - acc: 0.2334SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 78s 86ms/step - loss: 0.7850 - acc: 0.2326
2018-07-05 19:26:09,021 : INFO : MAP: 0.63
2018-07-05 19:26:09,025 : INFO : nDCG@1 : 0.48
2018-07-05 19:26:09,030 : INFO : nDCG@3 : 0.64
2018-07-05 19:26:09,036 : INFO : nDCG@5 : 0.68
2018-07-05 19:26:09,041 : INFO : nDCG@10 : 0.71
2018-07-05 19:26:09,046 : INFO : nDCG@20 : 0.73
Epoch 5/10
887/900 [============================>.] - ETA: 1s - loss: 0.7823 - acc: 0.2693SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 78s 86ms/step - loss: 0.7822 - acc: 0.2686
2018-07-05 19:27:31,122 : INFO : MAP: 0.63
2018-07-05 19:27:31,126 : INFO : nDCG@1 : 0.48
2018-07-05 19:27:31,131 : INFO : nDCG@3 : 0.64
2018-07-05 19:27:31,135 : INFO : nDCG@5 : 0.68
2018-07-05 19:27:31,139 : INFO : nDCG@10 : 0.71
2018-07-05 19:27:31,144 : INFO : nDCG@20 : 0.73
Epoch 6/10
886/900 [============================>.] - ETA: 1s - loss: 0.7694 - acc: 0.2894SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 79s 88ms/step - loss: 0.7697 - acc: 0.2883
2018-07-05 19:28:54,490 : INFO : MAP: 0.63
2018-07-05 19:28:54,495 : INFO : nDCG@1 : 0.48
2018-07-05 19:28:54,499 : INFO : nDCG@3 : 0.64
2018-07-05 19:28:54,504 : INFO : nDCG@5 : 0.68
2018-07-05 19:28:54,509 : INFO : nDCG@10 : 0.71
2018-07-05 19:28:54,513 : INFO : nDCG@20 : 0.73
Epoch 7/10
886/900 [============================>.] - ETA: 1s - loss: 0.7786 - acc: 0.3163SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 76s 85ms/step - loss: 0.7794 - acc: 0.3157
2018-07-05 19:30:15,250 : INFO : MAP: 0.63
2018-07-05 19:30:15,255 : INFO : nDCG@1 : 0.48
2018-07-05 19:30:15,260 : INFO : nDCG@3 : 0.64
2018-07-05 19:30:15,265 : INFO : nDCG@5 : 0.69
2018-07-05 19:30:15,269 : INFO : nDCG@10 : 0.71
2018-07-05 19:30:15,276 : INFO : nDCG@20 : 0.73
Epoch 8/10
885/900 [============================>.] - ETA: 1s - loss: 0.7650 - acc: 0.2974SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 76s 85ms/step - loss: 0.7658 - acc: 0.2951
2018-07-05 19:31:36,066 : INFO : MAP: 0.63
2018-07-05 19:31:36,071 : INFO : nDCG@1 : 0.49
2018-07-05 19:31:36,075 : INFO : nDCG@3 : 0.65
2018-07-05 19:31:36,081 : INFO : nDCG@5 : 0.69
2018-07-05 19:31:36,085 : INFO : nDCG@10 : 0.72
2018-07-05 19:31:36,090 : INFO : nDCG@20 : 0.73
Epoch 9/10
885/900 [============================>.] - ETA: 1s - loss: 0.7700 - acc: 0.3085SAMPLA RE!!!!!!!!!!!!!!!!!! 8995
900/900 [==============================] - 77s 86ms/step - loss: 0.7718 - acc: 0.3099
2018-07-05 19:32:57,932 : INFO : MAP: 0.63
2018-07-05 19:32:57,936 : INFO : nDCG@1 : 0.48
2018-07-05 19:32:57,941 : INFO : nDCG@3 : 0.63
2018-07-05 19:32:57,946 : INFO : nDCG@5 : 0.69
2018-07-05 19:32:57,950 : INFO : nDCG@10 : 0.72
2018-07-05 19:32:57,955 : INFO : nDCG@20 : 0.73
Epoch 10/10
884/900 [============================>.] - ETA: 1s - loss: 0.7767 - acc: 0.2926SAMPLA RE!!!!!!!!!!!!!!!!!! 8995



^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^6
topk=20, epochs=20, loss=rank_hinge_loss, embed_dims300, fc = [100, 50, 1], shuffle=False, adam, lr=0.0001, drop_out = 0.5

900/900 [==============================] - 78s 86ms/step - loss: 0.7752 - acc: 0.2914
2018-07-05 19:34:20,003 : INFO : MAP: 0.64
2018-07-05 19:34:20,008 : INFO : nDCG@1 : 0.50
2018-07-05 19:34:20,012 : INFO : nDCG@3 : 0.65
2018-07-05 19:34:20,018 : INFO : nDCG@5 : 0.70
2018-07-05 19:34:20,023 : INFO : nDCG@10 : 0.72
2018-07-05 19:34:20,027 : INFO : nDCG@20 : 0.74
Test set results
2018-07-05 19:34:20,297 : INFO : Found 21 unknown words. Set them to unknown word index : 400741
2018-07-05 19:34:20,362 : INFO : Found 264 unknown words. Set them to unknown word index : 400741
2018-07-05 19:34:29,566 : INFO : MAP: 0.61
2018-07-05 19:34:29,575 : INFO : nDCG@1 : 0.47
2018-07-05 19:34:29,585 : INFO : nDCG@3 : 0.61
2018-07-05 19:34:29,594 : INFO : nDCG@5 : 0.67
2018-07-05 19:34:29,605 : INFO : nDCG@10 : 0.71
2018-07-05 19:34:29,614 : INFO : nDCG@20 : 0.72










